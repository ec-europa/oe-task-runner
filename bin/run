#!/usr/bin/env php
<?php

use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Output\ConsoleOutput;
use EC\OpenEuropa\TaskRunner\TaskRunner;

if (file_exists(__DIR__.'/../vendor/autoload.php')) {
    require_once __DIR__.'/../vendor/autoload.php';
} elseif (file_exists(__DIR__.'/../../../autoload.php')) {
    require_once __DIR__ . '/../../../autoload.php';
}

$configPaths = [
    getcwd().'/runner.yml.dist',
    getcwd().'/runner.yml',
];
$runner = new TaskRunner($configPaths);
$statusCode = $runner->run(new ArgvInput($argv), new ConsoleOutput());
exit($statusCode);